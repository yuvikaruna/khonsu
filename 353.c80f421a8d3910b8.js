"use strict";(self.webpackChunkkhonsu=self.webpackChunkkhonsu||[]).push([[353],{353:(at,_,r)=>{r.r(_),r.d(_,{SupplierModule:()=>pt});var g=r(6895),c=r(858),v=r(1783),l=r(4006),t=r(4650),S=r(141),T=r(1645),x=r(1481),m=r(1576),A=r(4859),d=r(3546),b=r(3162),h=r(9549),P=r(4144);function L(e,o){1&e&&(t.TgZ(0,"span",12),t._uU(1,"+ 91 \xa0"),t.qZA())}function E(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const i=t.oxw().$implicit,n=t.oxw().$implicit;t.xp6(1),t.AsE(" ",n.label," is ",i," ")}}function U(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,E,2,2,"ng-container",13),t.qZA()),2&e){const i=o.$implicit,n=t.oxw().$implicit,p=t.oxw();t.xp6(1),t.Q6J("ngIf",p.supplierForm.controls[n.formControlName].touched&&p.supplierForm.controls[n.formControlName].hasError(i))}}function Y(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",9)(2,"mat-label"),t._uU(3),t.qZA(),t._UZ(4,"input",10),t.YNc(5,L,2,0,"span",11),t.YNc(6,U,2,1,"mat-error",5),t.qZA(),t.BQk()),2&e){const i=o.$implicit;t.xp6(3),t.Oqu(i.label),t.xp6(1),t.s9C("placeholder",i.placeholder),t.Q6J("formControlName",i.formControlName)("type",i.inputType),t.xp6(1),t.Q6J("ngIf","mobileNum"===i.formControlName||"ownerMobileNum"===i.formControlName),t.xp6(1),t.Q6J("ngForOf",i.validatorsList)}}function F(e,o){1&e&&t._UZ(0,"mat-progress-bar",14)}let N=(()=>{class e{constructor(i,n,p,a,u,st){this.logger=i,this.notificationService=n,this.titleService=p,this.fb=a,this.route=u,this.router=st,this.SUPPLIER_TYPE={ADD:"Add Supplier",EDIT:"Edit Supplier"},this.loading=!1,this.submitted=!1,this.formControlValues=[{label:"Supplier Name",placeholder:"Enter your Supplier Name",formControlName:"supplierName",inputType:"text",validatorsList:["required"]},{label:"Mobile Number",placeholder:"Enter your Mobile Number",formControlName:"mobileNum",inputType:"text",validatorsList:["required","invalid"]},{label:"GSTIN/TIN Number",placeholder:"Enter your GSTIN/TIN Number",formControlName:"gstNum",inputType:"string",validatorsList:["required","invalid"]},{label:"Owner Name",placeholder:"Enter your Owner Name",formControlName:"ownerName",inputType:"text",validatorsList:["required"]},{label:"Owner Mobile Number",placeholder:"Enter your Owner Mobile Number",formControlName:"ownerMobileNum",inputType:"text",validatorsList:["required","invalid"]},{label:"Shop Address",placeholder:"Enter your Shop Address",formControlName:"shopAddress",inputType:"text",validatorsList:["required"]},{label:"City",placeholder:"Enter your City",formControlName:"city",inputType:"text",validatorsList:["required"]},{label:"Pin Code",placeholder:"Enter your Pin Code",formControlName:"pinCode",inputType:"number",validatorsList:["required","invalid"]},{label:"Remarks",placeholder:"Enter your Remarks",formControlName:"remarks",inputType:"text",validatorsList:[]}],this.supplier=this.router.getCurrentNavigation()?.extras?.state?.supplier}ngOnInit(){this.PAGE_TYPE=this.route.snapshot.params.id?this.SUPPLIER_TYPE.EDIT:this.SUPPLIER_TYPE.ADD,this.logger.log(this.PAGE_TYPE+" loaded"),this.titleService.setTitle("Khonsu - "+this.PAGE_TYPE),this.supplierForm=this.fb.group({supplierName:["",l.kI.required],mobileNum:["",[l.kI.required,e=>{const o=e.value;return!/^((\\+91-?)|0)?[0-9]{10}$/.test(o)&&o?{invalid:!0}:null},l.kI.minLength(10),l.kI.maxLength(10)]],gstNum:["",[l.kI.required,e=>{const o=e.value;return!/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(o)&&o?{invalid:!0}:null}]],ownerName:["",l.kI.required],ownerMobileNum:["",[l.kI.required,e=>{const o=e.value;return!/^((\\+91-?)|0)?[0-9]{10}$/.test(o)&&o?{invalid:!0}:null},l.kI.minLength(10),l.kI.maxLength(10)]],shopAddress:[""],city:[""],pinCode:["",[e=>{const o=e.value;return!/^[1-9]{1}[0-9]{5}$/.test(o)&&o&&6!=o.length?{invalid:!0}:null}]],remarks:[""]}),this.PAGE_TYPE==this.SUPPLIER_TYPE.EDIT&&(console.log(this.supplier),this.supplierForm.patchValue({supplierName:this.supplier?.supplier_name,mobileNum:this.supplier?.phone,gstNum:this.supplier?.gst,ownerName:this.supplier?.shop_name,ownerMobileNum:this.supplier?.phone,shopAddress:this.supplier?.supplier_name}),this.supplierForm.invalid&&this.router.navigate(["supplier/list"]))}addSupplier(){this.submitted=!0,!this.supplierForm.invalid&&(this.loading=!0,this.PAGE_TYPE==this.SUPPLIER_TYPE.EDIT?(this.loading=!1,this.notificationService.openSnackBar("Customers Updated"),this.router.navigate(["supplier/list"])):this.PAGE_TYPE==this.SUPPLIER_TYPE.ADD&&(this.notificationService.openSnackBar("Customers Added"),this.loading=!1,this.supplierForm.reset()))}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(S.Kf),t.Y36(T.g),t.Y36(x.Dx),t.Y36(l.qu),t.Y36(c.gz),t.Y36(c.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-supplier"]],decls:13,vars:6,consts:[["fxLayout","row","fxLayoutAlign","center none",1,"container"],["fxFlex","95%"],["fxLayout","column"],["fxFlex","80","fxLayoutAlign","center none",1,"container"],[3,"formGroup"],[4,"ngFor","ngForOf"],[1,"button-actions"],["mat-raised-button","","color","primary",3,"disabled","click"],["mode","indeterminate",4,"ngIf"],["appearance","outline",1,"full-width","fix-suffix"],["matInput","",3,"placeholder","formControlName","type"],["matPrefix","",4,"ngIf"],["matPrefix",""],[4,"ngIf"],["mode","indeterminate"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-content",2)(4,"h2"),t._uU(5),t.qZA(),t.TgZ(6,"div",3)(7,"form",4),t.YNc(8,Y,7,6,"ng-container",5),t.qZA()()(),t.TgZ(9,"mat-card-actions",6)(10,"button",7),t.NdJ("click",function(){return n.addSupplier()}),t._uU(11),t.qZA()(),t.YNc(12,F,1,0,"mat-progress-bar",8),t.qZA()()()),2&i&&(t.xp6(5),t.Oqu(n.PAGE_TYPE),t.xp6(2),t.Q6J("formGroup",n.supplierForm),t.xp6(1),t.Q6J("ngForOf",n.formControlValues),t.xp6(2),t.Q6J("disabled",n.supplierForm.invalid||n.loading),t.xp6(1),t.hij(" ",n.PAGE_TYPE," "),t.xp6(1),t.Q6J("ngIf",n.loading))},dependencies:[g.sg,g.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,m.xw,m.Wh,m.yH,A.lW,d.a8,d.dn,d.hq,b.pW,h.TO,h.KE,h.hX,h.qo,P.Nt],styles:[".container[_ngcontent-%COMP%]{flex-direction:column;box-sizing:border-box;display:flex;place-content:center;align-items:center;justify-content:space-between}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{flex-direction:column;box-sizing:border-box;display:flex;place-content:center;align-items:center;flex-grow:1}.button-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.button-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-grow:1;margin-bottom:1rem}.b-d-1rm[_ngcontent-%COMP%]{border-radius:.5rem!important}"]}),e})();var f=r(6308),s=r(7155),M=r(9646),O=r(1005);let w=(()=>{class e{constructor(){}getSupplierList(){return(0,M.of)(q).pipe((0,O.g)(1e3))}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const q=[{position:1,supplier_id:1,supplier_name:"Hydrogen",phone:1234567890,email:"test@test.com",gst:"27AAPFU0939F1ZV",status:"active",shop_name:"Shop Hydrogen"},{position:2,supplier_id:2,supplier_name:"Helium",phone:1234567890,email:"test@test.com",gst:"27AAPFU0939F1ZV",status:"active",shop_name:"Shop Helium"},{position:3,supplier_id:3,supplier_name:"Lithium",phone:1234567890,email:"test@test.com",gst:"27AAPFU0939F1ZV",status:"active",shop_name:"Shop Lithium"},{position:4,supplier_id:4,supplier_name:"Beryllium",phone:1234567890,email:"test@test.com",gst:"27AAPFU0939F1ZV",status:"active",shop_name:"Shop Beryllium"},{position:5,supplier_id:5,supplier_name:"Boron",phone:1234567890,email:"test@test.com",gst:"27AAPFU0939F1ZV",status:"active",shop_name:"Shop Boron"},{position:6,supplier_id:6,supplier_name:"Carbon",phone:1234567890,email:"test@test.com",gst:"27AAPFU0939F1ZV",status:"active",shop_name:"Shop Carbon"},{position:7,supplier_id:7,supplier_name:"Nitrogen",phone:1234567890,email:"test@test.com",gst:"27AAPFU0939F1ZV",status:"active",shop_name:"Shop Nitrogen"},{position:8,supplier_id:8,supplier_name:"Oxygen",phone:1234567890,email:"test@test.com",gst:"27AAPFU0939F1ZV",status:"active",shop_name:"Shop Oxygen"},{position:9,supplier_id:9,supplier_name:"Fluorine",phone:1234567890,email:"test@test.com",gst:"27AAPFU0939F1ZV",status:"active",shop_name:"Shop Fluorine"},{position:10,supplier_id:10,supplier_name:"Neon",phone:1234567890,email:"test@test.com",gst:"27AAPFU0939F1ZV",status:"active",shop_name:"Shop Neon"}];var I=r(7392);function D(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1," No. "),t.qZA())}function k(e,o){if(1&e&&(t.TgZ(0,"td",17)(1,"span",18),t._uU(2,"No. :"),t.qZA(),t._uU(3),t.qZA()),2&e){const i=o.$implicit;t.xp6(3),t.hij(" ",i.position," ")}}function Q(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Supplier Name "),t.qZA())}function B(e,o){if(1&e&&(t.TgZ(0,"td",17)(1,"span",18),t._uU(2,"Supplier Name :"),t.qZA(),t._uU(3),t.qZA()),2&e){const i=o.$implicit;t.xp6(3),t.hij(" ",i.supplier_name," ")}}function G(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1," Phone "),t.qZA())}function J(e,o){if(1&e&&(t.TgZ(0,"td",17)(1,"span",18),t._uU(2,"Phone :"),t.qZA(),t._uU(3),t.qZA()),2&e){const i=o.$implicit;t.xp6(3),t.hij(" ",i.phone," ")}}function $(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1," Email "),t.qZA())}function j(e,o){if(1&e&&(t.TgZ(0,"td",17)(1,"span",18),t._uU(2,"Email :"),t.qZA(),t._uU(3),t.qZA()),2&e){const i=o.$implicit;t.xp6(3),t.hij(" ",i.email," ")}}function R(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1," Trade Name "),t.qZA())}function V(e,o){if(1&e&&(t.TgZ(0,"td",17)(1,"span",18),t._uU(2,"Trade Name :"),t.qZA(),t._uU(3),t.qZA()),2&e){const i=o.$implicit;t.xp6(3),t.hij(" ",i.shop_name," ")}}function H(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1," GST "),t.qZA())}function z(e,o){if(1&e&&(t.TgZ(0,"td",17)(1,"span",18),t._uU(2,"GST :"),t.qZA(),t._uU(3),t.qZA()),2&e){const i=o.$implicit;t.xp6(3),t.hij(" ",i.gst," ")}}function K(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1," Status "),t.qZA())}function W(e,o){if(1&e&&(t.TgZ(0,"td",17)(1,"span",18),t._uU(2,"Status :"),t.qZA(),t._uU(3),t.qZA()),2&e){const i=o.$implicit;t.xp6(3),t.hij(" ",i.status," ")}}function X(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1," Actions "),t.qZA())}function tt(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"td",17)(1,"button",20),t.NdJ("click",function(){const a=t.CHM(i).$implicit,u=t.oxw();return t.KtG(u.editSupplier(a))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t.TgZ(4,"span",18),t._uU(5,"Edit"),t.qZA()(),t.TgZ(6,"button",21),t.NdJ("click",function(){const a=t.CHM(i).$implicit,u=t.oxw();return t.KtG(u.deleteSupplier(a))}),t.TgZ(7,"mat-icon"),t._uU(8,"delete"),t.qZA(),t.TgZ(9,"span",18),t._uU(10,"Delete"),t.qZA()()()}}function et(e,o){1&e&&t._UZ(0,"tr",22)}function it(e,o){1&e&&t._UZ(0,"tr",23)}const nt=[{path:"",component:v.$,children:[{path:"list",component:(()=>{class e{constructor(i,n,p,a,u){this.logger=i,this.notificationService=n,this.supplierService=p,this.titleService=a,this.router=u,this.displayedColumns=["position","supplier_name","phone","email","shop_name","gst","status","actions"],this.sort=new f.YE}ngOnInit(){this.getSupplierList(),this.titleService.setTitle("Khonsu - Customers"),this.logger.log("Customers loaded"),this.notificationService.openSnackBar("Customers loaded")}getSupplierList(){this.supplierService.getSupplierList().subscribe(i=>{this.dataSource=new s.by(i),this.dataSource.sort=this.sort})}editSupplier(i){this.router.navigate(["supplier/edit/"+i.supplier_id],{state:{supplier:i}})}deleteSupplier(i){console.log(i)}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(S.Kf),t.Y36(T.g),t.Y36(w),t.Y36(x.Dx),t.Y36(c.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-supplier-list"]],viewQuery:function(i,n){if(1&i&&t.Gf(f.YE,7),2&i){let p;t.iGM(p=t.CRH())&&(n.sort=p.first)}},decls:33,vars:3,consts:[["fxLayout","row","fxLayoutAlign","center none",1,"container"],["fxFlex","95%"],["mat-table","","matSort","",1,"supplier-list",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","supplier_name"],["matColumnDef","phone"],["matColumnDef","email"],["matColumnDef","shop_name"],["matColumnDef","gst"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"mobile-label"],["mat-header-cell",""],["mat-button","","color","primary",3,"click"],["mat-button","","color","accent",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-content")(4,"h2"),t._uU(5,"Customers"),t.qZA(),t.TgZ(6,"table",2),t.ynx(7,3),t.YNc(8,D,2,0,"th",4),t.YNc(9,k,4,1,"td",5),t.BQk(),t.ynx(10,6),t.YNc(11,Q,2,0,"th",4),t.YNc(12,B,4,1,"td",5),t.BQk(),t.ynx(13,7),t.YNc(14,G,2,0,"th",4),t.YNc(15,J,4,1,"td",5),t.BQk(),t.ynx(16,8),t.YNc(17,$,2,0,"th",4),t.YNc(18,j,4,1,"td",5),t.BQk(),t.ynx(19,9),t.YNc(20,R,2,0,"th",4),t.YNc(21,V,4,1,"td",5),t.BQk(),t.ynx(22,10),t.YNc(23,H,2,0,"th",4),t.YNc(24,z,4,1,"td",5),t.BQk(),t.ynx(25,11),t.YNc(26,K,2,0,"th",4),t.YNc(27,W,4,1,"td",5),t.BQk(),t.ynx(28,12),t.YNc(29,X,2,0,"th",13),t.YNc(30,tt,11,0,"td",5),t.BQk(),t.YNc(31,et,1,0,"tr",14),t.YNc(32,it,1,0,"tr",15),t.qZA()()()()()),2&i&&(t.xp6(6),t.Q6J("dataSource",n.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns))},dependencies:[m.xw,m.Wh,m.yH,I.Hw,A.lW,d.a8,d.dn,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,f.YE,f.nU],styles:["table[_ngcontent-%COMP%]{width:100%}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}.mobile-label[_ngcontent-%COMP%]{display:none}@media (max-width: 700px){.mobile-label[_ngcontent-%COMP%]{width:auto;display:inline-block;font-weight:700}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{display:grid;flex-direction:column;align-items:start;padding:8px 24px}tr.mat-row[_ngcontent-%COMP%], tr.mat-footer-row[_ngcontent-%COMP%]{height:auto;border:1px solid black;margin:1rem}.mat-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:first-child{padding-left:0!important}.mat-table.supplier-list[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:last-child{width:auto;text-align:left}}"]}),e})()},{path:"add",component:N},{path:"edit/:id",component:N}]}];let rt=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(nt),c.Bz]}),e})();var lt=r(3927);let pt=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,lt.m,rt]}),e})()}}]);