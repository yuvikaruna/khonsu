"use strict";(self.webpackChunkkhonsu=self.webpackChunkkhonsu||[]).push([[494],{6494:(ot,_,m)=>{m.r(_),m.d(_,{ItemsModule:()=>et});var h=m(6895),u=m(9132),v=m(1783),r=m(4006),t=m(4650),I=m(141),T=m(1645),C=m(1481),d=m(1576),Z=m(4859),p=m(3546),x=m(3162),g=m(9549),y=m(4144),Y=m(3238),E=m(4385);function P(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Item ID is required "),t.qZA())}function U(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Item Name is required "),t.qZA())}function N(e,o){if(1&e&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.value),t.xp6(1),t.hij(" ",i.viewValue," ")}}function b(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Item ID is required "),t.qZA())}function q(e,o){if(1&e&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.value),t.xp6(1),t.hij(" ",i.viewValue," ")}}function D(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Item certification is required "),t.qZA())}function M(e,o){1&e&&t._UZ(0,"mat-progress-bar",17)}let A=(()=>{class e{constructor(i,n,s,l,c,it){this.logger=i,this.notificationService=n,this.titleService=s,this.fb=l,this.route=c,this.router=it,this.ITEM_TYPE={ADD:"Add Items",EDIT:"Edit Items"},this.loading=!1,this.submitted=!1,this.typesArr=[{value:"gold",viewValue:"Gold"},{value:"silver",viewValue:"Silver"},{value:"platinum",viewValue:"Platinum"}],this.certificationArr=[{value:"916",viewValue:"916"},{value:"silver",viewValue:"Silver"},{value:"platinum",viewValue:"Platinum"}],this.items=this.router.getCurrentNavigation()?.extras?.state?.items}ngOnInit(){this.PAGE_TYPE=this.route.snapshot.params.id?this.ITEM_TYPE.EDIT:this.ITEM_TYPE.ADD,this.logger.log(this.PAGE_TYPE+" loaded"),this.titleService.setTitle("Khonsu - "+this.PAGE_TYPE),this.itemsForm=this.fb.group({itemId:["",r.kI.required],itemName:["",r.kI.required],type:["",r.kI.required],certification:["",r.kI.required],remarks:[""]}),this.PAGE_TYPE==this.ITEM_TYPE.EDIT&&(console.log(this.items),this.itemsForm.patchValue({itemId:this.items?.item_id,itemName:this.items?.item_name,type:this.items?.type,certification:this.items?.certification,remarks:this.items?.remarks}),this.itemsForm.invalid&&this.router.navigate(["items/list"]))}addSupplier(){this.submitted=!0,!this.itemsForm.invalid&&(this.loading=!0,this.PAGE_TYPE==this.ITEM_TYPE.EDIT?(this.loading=!1,this.notificationService.openSnackBar("Customers Updated"),this.router.navigate(["items/list"])):this.PAGE_TYPE==this.ITEM_TYPE.ADD&&(this.notificationService.openSnackBar("Customers Added"),this.loading=!1,this.itemsForm.reset()))}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(I.Kf),t.Y36(T.g),t.Y36(C.Dx),t.Y36(r.qu),t.Y36(u.gz),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-item"]],decls:38,vars:11,consts:[["fxLayout","row","fxLayoutAlign","center none",1,"container"],["fxFlex","95%"],["fxLayout","column"],["fxFlex","80","fxLayoutAlign","center none",1,"container"],[3,"formGroup"],["appearance","outline",1,"full-width","fix-suffix"],["matInput","","placeholder","Enter your Item ID","formControlName","itemId","type","number"],[4,"ngIf"],["matInput","","placeholder","Enter your Item Name","formControlName","itemName","type","text"],["formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["formControlName","certification"],["matInput","","placeholder","Enter your remarks","formControlName","remarks","type","text"],[1,"button-actions"],["mat-raised-button","","color","primary",3,"disabled","click"],["mode","indeterminate",4,"ngIf"],[3,"value"],["mode","indeterminate"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-content",2)(4,"h2"),t._uU(5),t.qZA(),t.TgZ(6,"div",3)(7,"form",4)(8,"mat-form-field",5)(9,"mat-label"),t._uU(10,"Item ID"),t.qZA(),t._UZ(11,"input",6),t.YNc(12,P,2,0,"mat-error",7),t.qZA(),t.TgZ(13,"mat-form-field",5)(14,"mat-label"),t._uU(15,"Item Name"),t.qZA(),t._UZ(16,"input",8),t.YNc(17,U,2,0,"mat-error",7),t.qZA(),t.TgZ(18,"mat-form-field",5)(19,"mat-label"),t._uU(20,"Item Type"),t.qZA(),t.TgZ(21,"mat-select",9),t.YNc(22,N,2,2,"mat-option",10),t.qZA(),t.YNc(23,b,2,0,"mat-error",7),t.qZA(),t.TgZ(24,"mat-form-field",5)(25,"mat-label"),t._uU(26,"Item Certification"),t.qZA(),t.TgZ(27,"mat-select",11),t.YNc(28,q,2,2,"mat-option",10),t.qZA(),t.YNc(29,D,2,0,"mat-error",7),t.qZA(),t.TgZ(30,"mat-form-field",5)(31,"mat-label"),t._uU(32,"Remarks"),t.qZA(),t._UZ(33,"input",12),t.qZA()()()(),t.TgZ(34,"mat-card-actions",13)(35,"button",14),t.NdJ("click",function(){return n.addSupplier()}),t._uU(36),t.qZA()(),t.YNc(37,M,1,0,"mat-progress-bar",15),t.qZA()()()),2&i&&(t.xp6(5),t.Oqu(n.PAGE_TYPE),t.xp6(2),t.Q6J("formGroup",n.itemsForm),t.xp6(5),t.Q6J("ngIf",n.itemsForm.controls.itemId.touched&&n.itemsForm.controls.itemId.hasError("required")),t.xp6(5),t.Q6J("ngIf",n.itemsForm.controls.itemName.touched&&n.itemsForm.controls.itemName.hasError("required")),t.xp6(5),t.Q6J("ngForOf",n.typesArr),t.xp6(1),t.Q6J("ngIf",n.itemsForm.controls.type.touched&&n.itemsForm.controls.type.hasError("required")),t.xp6(5),t.Q6J("ngForOf",n.certificationArr),t.xp6(1),t.Q6J("ngIf",n.itemsForm.controls.certification.touched&&n.itemsForm.controls.certification.hasError("required")),t.xp6(6),t.Q6J("disabled",n.itemsForm.invalid||n.loading),t.xp6(1),t.hij(" ",n.PAGE_TYPE," "),t.xp6(1),t.Q6J("ngIf",n.loading))},dependencies:[h.sg,h.O5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,d.xw,d.Wh,d.yH,Z.lW,p.a8,p.dn,p.hq,x.pW,g.TO,g.KE,g.hX,y.Nt,Y.ey,E.gD],styles:[".container[_ngcontent-%COMP%]{flex-direction:column;box-sizing:border-box;display:flex;place-content:center;align-items:center;justify-content:space-between}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{flex-direction:column;box-sizing:border-box;display:flex;place-content:center;align-items:center;flex-grow:1}.button-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.button-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-grow:1;margin-bottom:1rem}.b-d-1rm[_ngcontent-%COMP%]{border-radius:.5rem!important}"]}),e})();var f=m(6308),a=m(7155),L=m(6635),F=m(7392);function S(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Item ID "),t.qZA())}function O(e,o){if(1&e&&(t.TgZ(0,"td",15)(1,"span",16),t._uU(2,"Item ID :"),t.qZA(),t._uU(3),t.qZA()),2&e){const i=o.$implicit;t.xp6(3),t.hij(" ",i.item_id," ")}}function w(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1," Item Name "),t.qZA())}function Q(e,o){if(1&e&&(t.TgZ(0,"td",15)(1,"span",16),t._uU(2,"Item Name :"),t.qZA(),t._uU(3),t.qZA()),2&e){const i=o.$implicit;t.xp6(3),t.hij(" ",i.item_name," ")}}function J(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1," Type "),t.qZA())}function k(e,o){if(1&e&&(t.TgZ(0,"td",15)(1,"span",16),t._uU(2,"Type :"),t.qZA(),t._uU(3),t.qZA()),2&e){const i=o.$implicit;t.xp6(3),t.hij(" ",i.type," ")}}function G(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1," Certification "),t.qZA())}function j(e,o){if(1&e&&(t.TgZ(0,"td",15)(1,"span",16),t._uU(2,"Certification :"),t.qZA(),t._uU(3),t.qZA()),2&e){const i=o.$implicit;t.xp6(3),t.hij(" ",i.certification," ")}}function B(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1," Remarks "),t.qZA())}function R(e,o){if(1&e&&(t.TgZ(0,"td",15)(1,"span",16),t._uU(2,"Remarks :"),t.qZA(),t._uU(3),t.qZA()),2&e){const i=o.$implicit;t.xp6(3),t.hij(" ",i.remarks," ")}}function H(e,o){1&e&&(t.TgZ(0,"th",17),t._uU(1," Actions "),t.qZA())}function V(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"td",15)(1,"button",18),t.NdJ("click",function(){const l=t.CHM(i).$implicit,c=t.oxw();return t.KtG(c.editSupplier(l))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t.TgZ(4,"span",16),t._uU(5,"Edit"),t.qZA()(),t.TgZ(6,"button",19),t.NdJ("click",function(){const l=t.CHM(i).$implicit,c=t.oxw();return t.KtG(c.deleteSupplier(l))}),t.TgZ(7,"mat-icon"),t._uU(8,"delete"),t.qZA(),t.TgZ(9,"span",16),t._uU(10,"Delete"),t.qZA()()()}}function $(e,o){1&e&&t._UZ(0,"tr",20)}function z(e,o){1&e&&t._UZ(0,"tr",21)}const W=[{path:"",component:v.$,children:[{path:"list",component:(()=>{class e{constructor(i,n,s,l,c){this.logger=i,this.notificationService=n,this.supplierService=s,this.titleService=l,this.router=c,this.displayedColumns=["item_id","item_name","type","certification","remarks","actions"],this.sort=new f.YE,this.PAGE_TYPE="Items List"}ngOnInit(){this.getItemsList(),this.titleService.setTitle("Khonsu - "+this.PAGE_TYPE),this.logger.log("Customers loaded"),this.notificationService.openSnackBar("Customers loaded")}getItemsList(){this.supplierService.getItemsList().subscribe(i=>{this.dataSource=new a.by(i),this.dataSource.sort=this.sort})}editSupplier(i){this.router.navigate(["items/edit/"+i.item_id],{state:{items:i}})}deleteSupplier(i){console.log(i)}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(I.Kf),t.Y36(T.g),t.Y36(L.p),t.Y36(C.Dx),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-item"]],viewQuery:function(i,n){if(1&i&&t.Gf(f.YE,7),2&i){let s;t.iGM(s=t.CRH())&&(n.sort=s.first)}},decls:27,vars:4,consts:[["fxLayout","row","fxLayoutAlign","center none",1,"container"],["fxFlex","95%"],["mat-table","","matSort","",1,"supplier-list",3,"dataSource"],["matColumnDef","item_id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","item_name"],["matColumnDef","type"],["matColumnDef","certification"],["matColumnDef","remarks"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"mobile-label"],["mat-header-cell",""],["mat-button","","color","primary",3,"click"],["mat-button","","color","accent",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-content")(4,"h2"),t._uU(5),t.qZA(),t.TgZ(6,"table",2),t.ynx(7,3),t.YNc(8,S,2,0,"th",4),t.YNc(9,O,4,1,"td",5),t.BQk(),t.ynx(10,6),t.YNc(11,w,2,0,"th",4),t.YNc(12,Q,4,1,"td",5),t.BQk(),t.ynx(13,7),t.YNc(14,J,2,0,"th",4),t.YNc(15,k,4,1,"td",5),t.BQk(),t.ynx(16,8),t.YNc(17,G,2,0,"th",4),t.YNc(18,j,4,1,"td",5),t.BQk(),t.ynx(19,9),t.YNc(20,B,2,0,"th",4),t.YNc(21,R,4,1,"td",5),t.BQk(),t.ynx(22,10),t.YNc(23,H,2,0,"th",11),t.YNc(24,V,11,0,"td",5),t.BQk(),t.YNc(25,$,1,0,"tr",12),t.YNc(26,z,1,0,"tr",13),t.qZA()()()()()),2&i&&(t.xp6(5),t.Oqu(n.PAGE_TYPE),t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns))},dependencies:[d.xw,d.Wh,d.yH,F.Hw,Z.lW,p.a8,p.dn,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,f.YE,f.nU],styles:["table[_ngcontent-%COMP%]{width:100%}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}.mobile-label[_ngcontent-%COMP%]{display:none}@media (max-width: 700px){.mobile-label[_ngcontent-%COMP%]{width:auto;display:inline-block;font-weight:700}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{display:grid;flex-direction:column;align-items:start;padding:8px 24px}tr.mat-row[_ngcontent-%COMP%], tr.mat-footer-row[_ngcontent-%COMP%]{height:auto;border:1px solid black;margin:1rem}.mat-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:first-child{padding-left:0!important}.mat-table.supplier-list[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:last-child{width:auto;text-align:left}}"]}),e})()},{path:"add",component:A},{path:"edit/:id",component:A}]}];let X=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(W),u.Bz]}),e})();var tt=m(3927);let et=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.ez,tt.m,X]}),e})()}}]);